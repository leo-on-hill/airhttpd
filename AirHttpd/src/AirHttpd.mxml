<?xml version="1.0" encoding="utf-8"?>
<mx:WindowedApplication xmlns:mx="http://www.adobe.com/2006/mxml" layout="absolute">
	<mx:Script>
		<![CDATA[
			import com.tilfin.airthttpd.services.SampleService;
			import com.tilfin.airthttpd.server.HttpListener;
			
			private var listener:HttpListener;
			
			private function listen():void {
				listener = new HttpListener();
				listener.service = new SampleService();
				listener.listen(parseInt(portTextInput.text, 10));
				listenButton.enabled = false;
			}
			
		]]>
	</mx:Script>
	<mx:VBox width="100%" height="100%">
		<mx:HBox width="100%">
			<mx:FormItem label="Port" width="130">
				<mx:TextInput id="portTextInput" text="10080" restrict="0-9"/>
			</mx:FormItem>
			<mx:Button id="listenButton" label="Listen" click="listen()"/>
		</mx:HBox>
		<mx:TextArea width="100%" height="100%"/>
	</mx:VBox>	
</mx:WindowedApplication>
